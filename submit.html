<!DOCTYPE html>
<html>
    <head>
        <title>The Postmortem Postcard: Submissions</title>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Playfair%20Display&effect=3d-float">
        <link rel="stylesheet" href="./main.css">
        <meta charset="UTF-8">
        <meta name="keywords" content="zine, publish, writing, art, fiction, poetry, photography">
        <meta name="description" content="This is just a wireframe for a potential zine. Don't get too excited.">
        <meta name="author" content="Lucas Selby">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <!-- Favicon -->
        <!-- <link rel="icon" href="./favicon.png" type="image/x-icon"> -->
    </head>

    <body>
        <header></header>

        <main>
            <form id="submissionForm" action="https://formsubmit.co/lucaswselby@gmail.com?subject=NEW SUBMISSION" method="POST" enctype="multipart/form-data" onsubmit="this.submit(); this.reset(); return false;">
                <h2>SUBMIT TO ME!!</h2>
                <div class="submissionField">
                    <label for="name">Name:</label>
                    <input type="text" name="name" id="name">
                </div>
                <div class="submissionField">
                    <label for="email">Email<span class="required">*</span>:</label>
                    <input type="email" name="email" id="email" placeholder="name@example.com" required>
                </div>
                <div class="submissionField">
                    <label for="coverLetter">Cover Letter:</label>
                    <textarea id="coverLetter" name="coverLetter"></textarea>
                </div>
                <div class="submissionField">
                    <label for="authorPic">Author Picture:</label>
                    <input type="file" id="authorPic" name="authorPic" accept="image/*">
                </div>
                <div class="submissionField">
                    <label for="title">Title<span class="required">*</span>:</label>
                    <input type="text" name="title" id="title" required>
                </div>
                <div class="submissionField">
                    <label for="genre">Genre<span class="required">*</span>:</label>
                    <select name="genre" id="genre" required>
                        <option value="fiction">Fiction</option>
                        <option value="nonfiction">Nonfiction</option>
                        <option value="poetry">Poetry</option>
                        <option value="art">Art</option>
                        <option value="photography">Photography</option>
                    </select>
                </div>
                <div class="submissionField">
                    <label for="file">Upload<span class="required">*</span>:</label>
                    <input type="file" name="file" id="file" accept="text/plain, image/*, .pdf, .doc, .docx" required>
                </div>
                <div class="submissionField">
                    <label for="tags">Tags:</label>
                    <div>
                        <input list="tagsList" name="tags" id="tags">
                        <datalist id="tagsList">
                            <option value="acrylic">acrylic</option>
                            <option value="adventure">adventure</option>
                            <option value="architecture">architecture</option>
                            <option value="contemporary">contemporary</option>
                            <option value="digital">digital</option>
                            <option value="drawing">drawing</option>
                            <option value="fantasy">fantasy</option>
                            <option value="fashion">fashion</option>
                            <option value="fauna">fauna</option>
                            <option value="film">film</option>
                            <option value="flora">flora</option> 
                            <option value="horror">horror</option>
                            <option value="long exposure">long exposure</option>
                            <option value="marker">marker</option>
                            <option value="multimedia">multimedia</option>
                            <option value="nature">nature</option>
                            <option value="oil">oil</option>
                            <option value="science fiction">science fiction</option>
                            <option value="surrealism">surrealism</option>
                            <option value="watercolor">watercolor</option>
                        </datalist>
                        <input type="button" id="addTag" value="Add" class="button">
                        <ul id="addedTags"></ul>
                    </div>
                </div>
                <div class="submissionField">
                    <label for="website">Website:</label>
                    <input type="url" id="website" name="website">
                </div>
                <div class="submissionField">
                    <label for="x">X:</label>
                    <input type="text" name="x" id="x" placeholder="@handle">
                </div>
                <div class="submissionField">
                    <label for="instagram">Instagram:</label>
                    <input type="text" name="instagram" id="instagram" placeholder="@handle">
                </div>
                <div class="submissionField">
                    <label for="tiktok">TiKToK:</label>
                    <input type="text" name="tiktok" id="tiktok" placeholder="@handle">
                </div>
                <input type="submit" value="Submit" class="button">
                <div class="required">*required</div>
                <div>Powered by Formspree</div>
            </form>
        </main>

        <footer></footer>
    </body>
    
    <script type="text/javascript" src="./main.js"></script>
    <script type="text/javascript">
        // adds new tag to list of tags
        const addTag = () => {
            const newTagValue = document.getElementById("tags").value;
            if (newTagValue) {
                const newTag = document.createElement("li");
                newTag.setAttribute("id", newTagValue);
                newTag.innerHTML = `X ${newTagValue}`;
                newTag.onclick = () => {document.getElementById(newTagValue).remove();};
                if (!document.getElementById(newTagValue)) {
                    document.getElementById("addedTags").appendChild(newTag);
                }
                document.getElementById("tags").value = "";
            }
        };
        document.getElementById("addTag").onclick = addTag;

        // adds tag on enter
        document.getElementById("tags").addEventListener("keypress", event => {
            if (event.key === "Enter" && document.getElementById("tags").value) {
                event.preventDefault();
                addTag();
            }
        });

        // grid styling
        const labels = document.getElementsByTagName("LABEL");
        let longest = labels[0].offsetWidth;
        for (let i = 1; i < document.getElementsByTagName("LABEL").length; i++) {
            if (labels[i].offsetWidth > longest) {
                longest = labels[i].offsetWidth;
            }
        }
        for (let i = 0; i < document.getElementsByClassName("submissionField").length; i++) {
            document.getElementsByClassName("submissionField")[i].style.gridTemplateColumns = `calc(${longest}px + 1em) auto`;
        }
    </script>
</html>