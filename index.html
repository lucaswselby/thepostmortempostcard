<!DOCTYPE html>
<html>
    <head>
        <title>Zine Wireframe</title>
        <link rel="stylesheet" href="./main.css">
        <meta charset="UTF-8">
        <meta name="keywords" content="zine, publish, writing, art, fiction, poetry, photography">
        <meta name="description" content="This is just a wireframe for a potential zine. Don't get too excited.">
        <meta name="author" content="Lucas Selby">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <!-- Favicon -->
        <!-- <link rel="icon" href="./favicon.png"> -->
    </head>

    <body>
        <header></header>

        <main class="grid8020">
            <div id="feedWrapper">
                <div id="feed">
                    <article class="feedItem feedImgPiece" id="feed4">
                        <img src="Issue1Rose1.gif" alt="Rose by Ade Seegmiller">                        
                        <div class="feedItemHeader">
                            <h2>ROSE</h2>
                            <h3>by: Ade Seegmiller</h3>
                        </div>
                        <div class="feedItemContent">
                            <p>Young Danny Fenton, he was just 14, when his parents built a very strange machine. It was designed to view, a world unseen. (He's gonna catch em all 'cause he's Danny Phantom.) When it didn't quite work, his folks, they just quit, but then Danny took a look inside of it. There was a great big flash, everything just changed, his molecules got all rearranged! (Phantom, Phantom) When he first woke up, he realized he had snow white hair, and glowin' green eyes. He could walk through walls, disappear, and fly. He was much more unique than the other guys. And it was then that he knew what he had to do. He had to stop all the ghosts that were comin' through. He's here to fight, for me and you! He's gonna catch 'em all, 'cause he's Danny Phantom. Gonna catch 'em all, 'cause he's Danny Phantom. Gonna catch 'em all, 'cause he's (Danny Phantom.)</p>
                            <!--<p>blurb</p>-->
                            <a href="issue1story1.html" aria-label="Title by Author">read more</a>
                        </div>
                    </article>
                    <article class="feedItem feedPiece" id="feed3">
                        <div class="feedItemContent">
                            <h2>TITLE</h2>
                            <h3>by: Author</h3>
                            <p>blurb</p>
                            <a href="issue1story1.html" aria-label="Title by Author">read more</a>
                        </div>
                    </article>
                    <article class="feedItem feedUpdate" id="feed2">
                        <div class="feedItemContent">
                            <h2>Update Title</h2>
                            <h3>Date</h3>
                            <p>blurb</p>
                        </div>
                    </article>
                    <article class="feedItem feedPiece" id="feed1">
                        <div class="feedItemContent">
                            <h2>Deadline for Issue 1</h2>
                            <h3>DEADLINE: March 31st</h3>
                            <p>pertinant info</p>
                            <a href="submissions.html">submission</a>
                        </div>
                    </article>
                </div>
                <a href="#feed4" id="backToTop">Back to Top</a>
            </div>

            <div id="homeRight">
                <div id="goals">
                    [Zine Name] strives to promote the darker side of artwork and literature. If other publications are a little too vanilla, this is the place for you.
                </div>

                <form id="mailingListForm"action="https://formspree.io/f/mleqajrd" method="POST">
                    <div>Join our mailing list:</div>
                    <div>
                        <label for="email">Email:</label>
                        <input type="email" name="email" id="email" required>
                    </div>
                    <input type="submit" value="Submit">
                    <div>Powered by Formspree</div>
                </form>
            </div>
        </main>
    </body>

    <script type="text/javascript" src="./main.js"></script>
    <script type="text/javascript">
        // resizes feed height for desktop and mobile
        const resizeScreen = () => {
            document.getElementById("feed").style.height = `calc(${window.innerHeight}px - ${document.getElementsByTagName("HEADER")[0].offsetHeight + (matchMedia("only screen and (max-width: 600px)").matches ? document.getElementById("homeRight").offsetHeight : 0) + (document.getElementsByTagName("FOOTER")[0] ? document.getElementsByTagName("FOOTER")[0].offsetHeight : 0)}px - 1px)`;
        };
        resizeScreen();
        document.getElementsByTagName("BODY")[0].onresize = resizeScreen;

        // resizes header on scroll
        // https://www.w3schools.com/Css/css3_variables_javascript.asp
        const root = document.querySelector(':root');
        const headerFontSize = parseFloat(getComputedStyle(root).getPropertyValue('--headerFontSize'));
        // https://stackoverflow.com/questions/64624094/how-can-i-make-text-in-header-smaller-when-user-scroll-down
        document.getElementById("feed").onscroll = () => {
            const scrollTop = (document.getElementById("feed").scrollTop) - (document.getElementById("feed").clientTop || 0);
            let newHeaderFontSize = headerFontSize - ((scrollTop / 20) || 0);
            const minSize = 4;
            if (newHeaderFontSize <= minSize) {
                newHeaderFontSize = minSize;
            }

            root.style.setProperty('--headerFontSize', `${newHeaderFontSize}vw`);
            resizeScreen();
        };
    </script>
</html>